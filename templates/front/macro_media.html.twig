{# Display the page title depending on whether it's a new media or not #}
{% macro displayTitle(media,mediaType) %}

    {% if media.id is null %}
        {% set action = 'Upload' %}
    {% else %}
        {% set action = 'Edit' %}
    {% endif %}

    {% if mediaType == 'embed' %}
        {% set action = 'Embed' %}
        {% set mediaType = 'video' %}
    {% endif %}

    {{ action ~ ' ' ~ mediaType }}

{% endmacro %}

{# Display the current media depending on the type #}
{% macro displayCurrentMedia(media,mediaType) %}

    {% if media.id is not null and media.fileName is defined %}
        {% set fileName = media.fileName %}
    {% elseif media.id is null and media.fileName is defined %}
        {% set fileName = 'default_image.jpg' %}
    {% endif %}

    <div id="current-media">

        {% if mediaType == 'image' %}
            <img id="thumbnailMedia" src="{{ asset('/media/tricks_media/'~fileName) }}" alt="Media thumbnail">

        {% elseif mediaType == 'video' %}
            <video id="thumbnailMedia">
                <source src="{{ asset('/media/tricks_media/'~fileName) }}">
            </video>
        {% else %}
            <div id="thumbnailMedia">
                {{ media.htmlCode | raw }}
            </div>
        {% endif %}
    </div>

{% endmacro %}

{# Display the form fields depending on whether it's an image or video #}
{% macro displayForm(media, mediaForm, mediaType) %}

    {% if(media.id is null) %}
        {% set required = {'attr': {'required': 'required'}} %}
    {% else %}
        {% set required = {} %}
    {% endif %}

    {% if mediaType == 'image' %}
        {{ form_row(mediaForm.image, required) }}
        {{ form_row(mediaForm.alt) }}
        {{ form_row(mediaForm.mainImage) }}
    {% elseif mediaType == 'video' %}
        {{ form_row(mediaForm.video, required) }}
    {% else %}
        {{ form_row(mediaForm.htmlCode) }}
        {{ form_row(mediaForm.mediaName) }}
    {% endif %}

{% endmacro %}